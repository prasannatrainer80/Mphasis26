package com.java.lib.dao;

import org.hibernate.Criteria;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.criterion.Restrictions;

import com.java.lib.model.LibUsers;
import com.java.lib.util.SessionHelper;

public class LibraryDaoImpl implements LibraryDao {

	SessionFactory sessionFactory;
	Session session;
	
	@Override
	public int authenticate(LibUsers libUsers) {
		sessionFactory = SessionHelper.getSession(); 
		session = sessionFactory.openSession();
		Criteria cr = session.createCriteria(LibUsers.class);
		System.out.println(libUsers);
		cr.add(Restrictions.and(
				Restrictions.eq("userName", libUsers.getUserName()),
				Restrictions.eq("passWord",libUsers.getPassWord())
				));
		LibUsers libFound = (LibUsers)cr.uniqueResult();
		if (libFound !=null) {
			return 1;
		}
		return 0;
	}

}
